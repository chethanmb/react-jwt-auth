(this["webpackJsonpreact-jwt-auth"]=this["webpackJsonpreact-jwt-auth"]||[]).push([[0],{1031:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a(18),c=a.n(s),o=a(102),r=(a(597),a(42)),i=a(43),l=a(30),d=a(70),h=a(69),u=a(44),j=(a(598),a(599),a(163)),m=a(45),b=a.n(m),g=a(136),p=a.n(g),f="http://localhost:1025/Users/",O=new(function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"login",value:function(e,t){return b.a.post(f+"authenticate",{username:e,password:t}).then((function(e){return e.data.token&&localStorage.setItem("user",JSON.stringify(e.data)),e.data}))}},{key:"logout",value:function(){localStorage.removeItem("user")}},{key:"register",value:function(e,t,a,n,s,c,o,r,i){return b.a.post(f+"register",{username:e,password:t,empId:a,fname:n,lname:s,phone:c,custEmail:o,locationId:r,customerId:i})}},{key:"getCurrentUser",value:function(){return JSON.parse(localStorage.getItem("user"))}}]),e}()),x=a(353),v=a.n(x),C=a(524),N=a(112),y=a.n(N),S=a(33),k=a.n(S),w=a(164),I=a.n(w),D=a(442),_=a(443),L=a(444),T=a(445),F=a(4),P=(p.a.mixin({toast:!0,position:"top-end",showConfirmButton:!1,timer:1500,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",p.a.stopTimer),e.addEventListener("mouseleave",p.a.resumeTimer)}}),function(e){if(!e)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})}),U=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).handleLogin=n.handleLogin.bind(Object(l.a)(n)),n.onChangeUsername=n.onChangeUsername.bind(Object(l.a)(n)),n.onChangePassword=n.onChangePassword.bind(Object(l.a)(n)),n.state={username:"",password:"",loading:!1,message:""},n}return Object(i.a)(a,[{key:"onChangeUsername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangePassword",value:function(e){this.setState({password:e.target.value})}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"handleLogin",value:function(){var e=Object(C.a)(v.a.mark((function e(t){var a=this;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),this.setState({message:"",loading:!0}),this.form.validateAll(),0!==this.checkBtn.context._errors.length){e.next=9;break}return e.next=6,this.sleep(3e3);case 6:O.login(this.state.username,this.state.password).then((function(){a.props.history.push("/profile"),setTimeout((function(){window.location.reload(!1)}),0)}),(function(e){var t=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();a.setState({loading:!1,message:t})})),e.next=10;break;case 9:this.setState({loading:!1});case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return Object(F.jsx)("div",{className:"col-md-12",children:Object(F.jsxs)("div",{className:"card card-container",children:[Object(F.jsx)("img",{src:"//ssl.gstatic.com/accounts/ui/avatar_2x.png",alt:"profile-img",className:"profile-img-card"}),Object(F.jsxs)(y.a,{onSubmit:this.handleLogin,ref:function(t){e.form=t},children:[Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)(k.a,{type:"text",placeholder:"Username",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeUsername,validations:[P]})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)(k.a,{type:"password",placeholder:"Password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangePassword,validations:[P]})}),Object(F.jsxs)("div",{className:"form-group ",children:[Object(F.jsxs)(D.a,{style:{marginTop:"10px",marginBottom:"10px",height:"3em"},fullWidth:"true",variant:"contained",color:"primary",type:"submit",endIcon:Object(F.jsx)(_.a,{children:"login"}),disabled:this.state.loading,children:[this.state.loading&&Object(F.jsx)("span",{style:{marginRight:"10px",marginTop:"5px",paddingTop:"0px",paddingBottom:"0px"},children:Object(F.jsx)(L.a,{size:20,color:"primary"})}),Object(F.jsx)("span",{children:"Login"})," "]}),this.state.loading&&Object(F.jsx)("span",{children:Object(F.jsx)(T.a,{})})]}),this.state.message&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:this.state.message})}),Object(F.jsx)(I.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})]})})}}]),a}(n.Component),R=a(525),E=function(e){if(!e)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})},B=function(e){if(e.length<3||e.length>20)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The username must be between 3 and 20 characters."})},M=function(e){if(e.length<6||e.length>40)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"The password must be between 6 and 40 characters."})},A=function(e){if(8!==e.length)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"Employee ID must be of 8 digits"})},z=function(e){if(e.length<1||e.length>40)return Object(F.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(F.jsx)("b",{children:"First Name"})," must be more than 1 character"]})},V=function(e){if(e.length<1||e.length>40)return Object(F.jsxs)("div",{className:"alert alert-danger",role:"alert",children:[Object(F.jsx)("b",{children:"Last Name"})," must be more than 1 character"]})},J=function(e){if(!Object(R.isEmail)(e))return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This is not a valid email ID"})},W=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangelocationId=function(e){n.setState({customerId:e.target.value});var t=e.target.value;b.a.get("http://localhost:1025/Users/locations/".concat(t)).then((function(e){console.log(e.data),n.setState({locationData:e.data})}))},n.onChangeLoadLocations=function(e){n.setState({locationId:e.target.value})},n.handleRegister=n.handleRegister.bind(Object(l.a)(n)),n.onChangeusername=n.onChangeusername.bind(Object(l.a)(n)),n.onChangepassword=n.onChangepassword.bind(Object(l.a)(n)),n.onChangeempId=n.onChangeempId.bind(Object(l.a)(n)),n.onChangefname=n.onChangefname.bind(Object(l.a)(n)),n.onChangelname=n.onChangelname.bind(Object(l.a)(n)),n.onChangephone=n.onChangephone.bind(Object(l.a)(n)),n.onChangecustEmail=n.onChangecustEmail.bind(Object(l.a)(n)),n.onChangelocationId=n.onChangelocationId.bind(Object(l.a)(n)),n.onChangecustomerId=n.onChangecustomerId.bind(Object(l.a)(n)),n.state={username:"",password:"",empId:"",fname:"",lname:"",phone:"",custEmail:"",locationId:"",customerId:"",customerData:[],locationData:[],successful:!1,message:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:1025/Users/get-cust-list").then((function(t){console.log(t.data),e.setState({customerData:t.data})}))}},{key:"onChangeusername",value:function(e){this.setState({username:e.target.value})}},{key:"onChangepassword",value:function(e){this.setState({password:e.target.value})}},{key:"onChangeempId",value:function(e){this.setState({empId:e.target.value})}},{key:"onChangefname",value:function(e){this.setState({fname:e.target.value})}},{key:"onChangelname",value:function(e){this.setState({lname:e.target.value})}},{key:"onChangephone",value:function(e){this.setState({phone:e.target.value})}},{key:"onChangecustEmail",value:function(e){this.setState({custEmail:e.target.value})}},{key:"onChangecustomerId",value:function(e){this.setState({customerId:e.target.value})}},{key:"handleRegister",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1}),this.form.validateAll(),0===this.checkBtn.context._errors.length&&O.register(this.state.username,this.state.password,this.state.empId,this.state.fname,this.state.lname,this.state.phone,this.state.custEmail,this.state.locationId,this.state.customerId).then((function(e){t.setState({message:e.data.message,successful:!0}),t.props.history.push("/login")}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({successful:!1,message:a})}))}},{key:"render",value:function(){var e=this;return Object(F.jsx)("div",{className:"col-lg-12",children:Object(F.jsx)("div",{className:"card card-container",children:Object(F.jsxs)(y.a,{onSubmit:this.handleRegister,ref:function(t){e.form=t},children:[!this.state.successful&&Object(F.jsxs)("div",{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"username",children:"Username"}),Object(F.jsx)(k.a,{type:"text",className:"form-control",name:"username",value:this.state.username,onChange:this.onChangeusername,validations:[E,B]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"password",children:"Password"}),Object(F.jsx)(k.a,{type:"password",className:"form-control",name:"password",value:this.state.password,onChange:this.onChangepassword,validations:[E,M]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"empId",children:"Emp ID"}),Object(F.jsx)(k.a,{type:"text",className:"form-control",name:"empId",value:this.state.empId,onChange:this.onChangeempId,validations:[E,A]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"fname",children:"First name"}),Object(F.jsx)(k.a,{type:"text",className:"form-control",name:"fname",value:this.state.fname,onChange:this.onChangefname,validations:[E,z]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"fname",children:"Last name"}),Object(F.jsx)(k.a,{type:"text",className:"form-control",name:"lname",value:this.state.lname,onChange:this.onChangelname,validations:[E,V]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"fname",children:"Phone"}),Object(F.jsx)(k.a,{type:"text",className:"form-control",name:"phone",value:this.state.phone,onChange:this.onChangephone})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"custEmail",children:"Customer Email"}),Object(F.jsx)(k.a,{type:"text",className:"form-control",name:"custEmail",value:this.state.custEmail,onChange:this.onChangecustEmail,validations:[E,J]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"customerId",children:"Customer"}),Object(F.jsxs)("select",{className:"form-select",name:"Customer",value:this.state.customerId,onChange:this.onChangelocationId,children:[Object(F.jsx)("option",{children:"Select Client"}),this.state.customerData.map((function(e,t){return Object(F.jsx)("option",{value:e.customerId,children:e.customerName},t)}))]})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"locationId",children:"Location"}),Object(F.jsx)("select",{className:"form-select",name:"locationId",value:this.state.locationId,onChange:this.onChangeLoadLocations,children:this.state.locationData.map((function(e,t){return Object(F.jsx)("option",{value:e.locationId,children:e.locationName},t)}))})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"Sign Up"}),Object(F.jsx)("button",{className:"btn btn-primary btn-block",children:"Sign Up"})]})]}),this.state.message&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:this.state.successful?"alert alert-success":"alert alert-danger",role:"alert",children:this.state.message})}),Object(F.jsx)(I.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})})}}]),a}(n.Component);function q(){var e=JSON.parse(localStorage.getItem("user"));return e&&e.accessToken?{Authorization:"Bearer "+e.accessToken}:{}}var G="http://localhost:8080/api/test/",H=new(function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"getPublicContent",value:function(){return b.a.get(G+"all")}},{key:"getUserBoard",value:function(){return b.a.get(G+"user",{headers:q()})}},{key:"getModeratorBoard",value:function(){return b.a.get(G+"mod",{headers:q()})}},{key:"getAdminBoard",value:function(){return b.a.get(G+"admin",{headers:q()})}}]),e}()),K=(n.Component,a(26)),Q=(a(555),a(461),a(210),a(1069)),X=a(5),Y=a(1064),Z=a(533),$=a.n(Z),ee=a(347),te=a.n(ee),ae=a(549),ne=a.n(ae),se=a(1067),ce=a(536),oe=a.n(ce),re=a(546),ie=a.n(re),le=a(537),de=a.n(le),he=a(544),ue=a.n(he),je=a(356),me=a.n(je),be=a(355),ge=a.n(be),pe=a(538),fe=a.n(pe),Oe=a(539),xe=a.n(Oe),ve=a(541),Ce=a.n(ve),Ne=a(542),ye=a.n(Ne),Se=a(543),ke=a.n(Se),we=a(547),Ie=a.n(we),De=a(540),_e=a.n(De),Le=a(545),Te=a.n(Le),Fe=a(548),Pe=a.n(Fe),Ue={Add:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(oe.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Check:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(de.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Clear:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(ge.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Delete:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(fe.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),DetailPanel:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(me.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Edit:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(xe.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Export:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(_e.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Filter:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(Ce.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),FirstPage:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(ye.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),LastPage:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(ke.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),NextPage:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(me.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),PreviousPage:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(ue.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),ResetSearch:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(ge.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),Search:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(Te.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),SortArrow:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(ie.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),ThirdStateCheck:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(Ie.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))})),ViewColumn:Object(n.forwardRef)((function(e,t){return Object(F.jsx)(Pe.a,Object(K.a)(Object(K.a)({},e),{},{ref:t}))}))},Re=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).sleep=function(e){return new Promise((function(t){return setTimeout(t,e)}))},n.showModal=function(e,t){console.log(t),n.setState({isModalVisible:!0,singleIncident:t})},n.handleOk=function(e){n.setState({isModalVisible:!1})},n.handleCancel=function(e){n.setState({isModalVisible:!1})},n.state={currentUser:O.getCurrentUser(),incidentData:[],loading:!0,isModalVisible:!1,setIsModalVisible:!1,loadModal:!1,singleIncident:[]},n.showModal=n.showModal.bind(Object(l.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:1025/api/Incidents/user/".concat(this.state.currentUser.id)).then((function(t){e.setState({incidentData:t.data,loadModal:!0,loading:!1})}))}},{key:"onClickDownload",value:function(e){var t=this.state.singleIncident.attachId,a=this.state.singleIncident.attachmentName;b.a.get("http://localhost:1025/api/Incidents/attachments/".concat(t),{responseType:"blob"}).then((function(e){$()(e.data,a)}))}},{key:"render",value:function(){var e=this,t=this.props.classes,a=this.state,n=(a.currentUser,a.loadModal),s=a.singleIncident;return console.log(s),Object(F.jsxs)("div",{className:"container",children:[Object(F.jsx)(o.b,{to:"/create-new",style:{textDecoration:"none"},children:Object(F.jsxs)(D.a,{style:{marginTop:"10px",marginBottom:"10px"},variant:"contained",color:"primary",type:"submit",endIcon:Object(F.jsx)(_.a,{children:"launch"}),children:[Object(F.jsx)("span",{children:"Submit New"})," "]})}),n?Object(F.jsx)("div",{className:"mat-table",children:Object(F.jsx)(te.a,{icons:Ue,title:"Incident History",style:{padding:"0 10px",backgroundColor:"",fontSize:13,color:""},options:{pageSize:8,toolbar:!0,paging:!0,search:!0,height:100,cellStyle:{padding:"0.6em"},headerStyle:{padding:"0.8em"},actionsColumnIndex:-1},columns:[{title:"#",field:"id",width:500,headerStyle:{maxWidth:"2%",backgroundColor:"#eeeeee",whiteSpace:"nowrap"},render:function(e){return Object(F.jsx)("div",{style:{width:"",backgroundColor:""},children:e.tableData.id+1})}},{title:"Title",field:"title",width:100,headerStyle:{backgroundColor:"#eeeeee",color:"#0"}},{title:"Description",field:"description",width:500,headerStyle:{backgroundColor:"#eeeeee",color:"#0"}},{title:"Reported Date",field:"incidentReportedDate",headerStyle:{backgroundColor:"#eeeeee",color:"#0"}},{title:"Attachments",field:"attachmentName",headerStyle:{backgroundColor:"#eeeeee",color:"#0"}}],actions:[{icon:"edit",tooltip:"View",onClick:function(t,a){e.showModal(t,a)}}],data:this.state.incidentData})}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)(Q.a,{title:"",visible:this.state.isModalVisible,onOk:this.handleOk,okText:"Close",okButtonProps:{style:{backgroundColor:"#3f51b5"}},onCancel:this.handleCancel,cancelButtonProps:{style:{display:"none"}},width:800,children:Object(F.jsx)(y.a,{children:Object(F.jsx)("div",{className:t.root,children:Object(F.jsxs)(Y.a,{container:!0,spacing:4,children:[Object(F.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Title"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:s.title,disabled:"true"})]})}),Object(F.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Description"}),Object(F.jsx)(k.a,{name:"description",type:"text",className:"form-control",value:s.description,disabled:"true"})]})}),Object(F.jsx)(se.a,{}),Object(F.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Reported Date"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:s.incidentReportedDate,disabled:"true"})]})}),s.attachmentName?Object(F.jsx)(Y.a,{item:!0,xs:12,sm:6,children:Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Attachments"}),Object(F.jsx)(k.a,{name:"attachmentName",type:"text",className:"form-control",value:s.attachmentName,disabled:"true"}),Object(F.jsxs)(o.b,{size:"small",backgroundColor:"green",onClick:function(){e.onClickDownload()},children:[Object(F.jsx)("b",{children:Object(F.jsx)("u",{children:" Download Attachments"})}),Object(F.jsx)(ne.a,{})]})]})}):Object(F.jsx)(F.Fragment,{children:" "})]})})})})]})}}]),a}(n.Component),Ee=Object(X.a)((function(e){return{root:{flexGrow:1},paper:{padding:e.spacing(2),textAlign:"center",color:e.palette.text.secondary},button:{"& > *":{margin:e.spacing(1),width:"25ch"}}}}))(Re),Be=(a(762),a(1068)),Me=a(477),Ae=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).onChangelocationId=function(e){n.setState({customerId:e.target.value});var t=e.target.value;b.a.get("http://localhost:1025/Users/locations/".concat(t)).then((function(e){console.log(e.data),n.setState({locationData:e.data})}))},n.onChangeLoadLocations=function(e){n.setState({locationId:e.target.value})},n.state={locationId:"",customerId:"",customerData:[],locationData:[],currentUser:void 0,successful:!1,loading:!1,message:"",changeCustomer:!1,changeLocation:!1},n.handleCustomerSwitch=n.handleCustomerSwitch.bind(Object(l.a)(n)),n.handleLocationSwitch=n.handleLocationSwitch.bind(Object(l.a)(n)),n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this,t=O.getCurrentUser();b.a.get("http://localhost:1025/Users/get-cust-list").then((function(t){console.log(t.data),e.setState({customerData:t.data,message:t.data.message,successful:!0})}),(function(t){var a=t.response&&t.response.data&&t.response.data.message||t.message||t.toString();e.setState({successful:!1,message:a})})),t&&this.setState({currentUser:t,loginStatus:!0})}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"onChangecustomerId",value:function(e){this.setState({customerId:e.target.value})}},{key:"handleCustomerSwitch",value:function(e){this.setState({changeCustomer:e.target.checked}),console.log(this.state.changeCustomer)}},{key:"handleLocationSwitch",value:function(e){this.setState({changeLocation:e.target.checked}),console.log(this.state.changeLocation)}},{key:"render",value:function(){var e=this.state,t=e.currentUser,a=e.changeCustomer,n=e.changeLocation;return Object(F.jsxs)("div",{className:"col-md-3 mx-auto",children:[t?Object(F.jsxs)(y.a,{children:[Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Email"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:t.username,disabled:"true"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"First Name"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:t.firstName})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Last Name"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:t.lastName})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Employee ID"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:t.employeeId,disabled:"true"})]}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Phone"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:t.phone})]}),Object(F.jsxs)("span",{children:["Current Client: ",t.customerName]}),Object(F.jsx)("br",{}),Object(F.jsx)(Me.a,{value:"bottom",control:Object(F.jsx)(Be.a,{checked:this.state.changeCustomer,onChange:this.handleCustomerSwitch,color:"primary",name:"changeCustomer",label:"Change Client?",inputProps:{"aria-label":"primary checkbox"}}),label:"Change Client?",labelPlacement:"start"}),a?Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"customerId",children:"Client Name"}),Object(F.jsxs)("select",{className:"form-select",name:"Customer",value:this.state.customerId,onChange:this.onChangelocationId,children:[Object(F.jsx)("option",{children:"Select Client"}),this.state.customerData.map((function(e,t){return Object(F.jsx)("option",{value:e.customerId,children:e.customerName},t)}))]})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{children:"Client Email"}),Object(F.jsx)(k.a,{name:"title",type:"text",className:"form-control",value:t.customerEmail})]}),Object(F.jsxs)("span",{children:["Current Location: ",t.locationName]}),Object(F.jsx)("br",{}),Object(F.jsx)(Me.a,{value:"bottom",control:Object(F.jsx)(Be.a,{checked:this.state.changeLocation,onChange:this.handleLocationSwitch,color:"primary",name:"changeLocation",label:"Change Location?",inputProps:{"aria-label":"primary checkbox"}}),label:"Change Location?",labelPlacement:"start"}),n?Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)("label",{htmlFor:"locationId",children:"Location"}),Object(F.jsx)("select",{className:"form-select",name:"locationId",value:this.state.locationId,onChange:this.onChangeLoadLocations,children:this.state.locationData.map((function(e,t){return Object(F.jsx)("option",{value:e.locationId,children:e.locationName},t)}))})]}):Object(F.jsx)(F.Fragment,{})]}):Object(F.jsx)(F.Fragment,{}),Object(F.jsx)("br",{}),Object(F.jsx)("br",{})]})}}]),a}(n.Component),ze=a(105),Ve=new(function(){function e(){Object(r.a)(this,e)}return Object(i.a)(e,[{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"CreateNew",value:function(e){return b.a.post("http://localhost:1025/api/Incidents/create",e,{headers:{"Content-type":"multipart/form-data"}}).then((function(e){return e.data}))}}]),e}()),Je=a(162),We=(Object(Je.a)({overrides:{MuiButton:{root:{fontWeight:"",backgroundColor:"red",margin:"10px","&:hover":{backgroundColor:"green"}}}}}),function(e){if(!e)return Object(F.jsx)("div",{className:"alert alert-danger",role:"alert",children:"This field is required!"})}),qe=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n,s;return Object(r.a)(this,a),(s=t.call(this,e)).checkFileSize=function(e){for(var t=e.target.files,a="",n=0;n<t.length;n++)t[n].size>5124&&(a+=t[n].type+"is too large, please pick a smaller file\n");return""===a||(e.target.value=null,console.log(a),!1)},s.state=(n={title:"",description:"",userid:"",appid:"",attachid:"",date:""},Object(ze.a)(n,"appid",""),Object(ze.a)(n,"appdata",[]),Object(ze.a)(n,"selectedFile",null),Object(ze.a)(n,"fileSize",null),Object(ze.a)(n,"SelectStatus",!1),Object(ze.a)(n,"successful",!1),Object(ze.a)(n,"loading",!1),Object(ze.a)(n,"message",""),n),s.handleSubmit=s.handleSubmit.bind(Object(l.a)(s)),s.onChangeTitle=s.onChangeTitle.bind(Object(l.a)(s)),s.onChangeDescription=s.onChangeDescription.bind(Object(l.a)(s)),s.onChangeapplicationId=s.onChangeapplicationId.bind(Object(l.a)(s)),s.onChangeAttachid=s.onChangeAttachid.bind(Object(l.a)(s)),s.onChangeDate=s.onChangeDate.bind(Object(l.a)(s)),s.onChangefilehandler=s.onChangefilehandler.bind(Object(l.a)(s)),s}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;b.a.get("http://localhost:1025/api/Incidents/get-app-list").then((function(t){console.log(t.data),e.setState({appdata:t.data})}))}},{key:"sleep",value:function(e){return new Promise((function(t){return setTimeout(t,e)}))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState({message:"",successful:!1,loading:!0}),this.form.validateAll();var a=new FormData(e.target);a.append("attachments",this.state.selectedFile),a.append("userid",O.getCurrentUser().id),0===this.checkBtn.context._errors.length?Ve.CreateNew(a).then((function(e){t.setState({message:e.data,successful:!0}),t.props.history.push("/profile")}),(function(e){var a=e.response&&e.response.data&&e.response.data.message||e.message||e.toString();t.setState({loading:!1,message:a})})):this.setState({loading:!1})}},{key:"onChangeTitle",value:function(e){this.setState({title:e.target.value})}},{key:"onChangeDescription",value:function(e){this.setState({description:e.target.value})}},{key:"onChangeapplicationId",value:function(e){this.setState({appid:e.target.value})}},{key:"onChangeAttachid",value:function(e){this.setState({attachid:e.target.value})}},{key:"onChangeDate",value:function(e){this.setState({date:e.target.value})}},{key:"onChangefilehandler",value:function(e){console.log(e.target.files[0]),this.setState({selectedFile:e.target.files[0],fileSize:Math.round(e.target.files[0].size/1024),SelectStatus:!0,loaded:0})}},{key:"render",value:function(){var e=this,t=(this.props.classes,this.state.SelectStatus);return Object(F.jsx)("div",{className:"col-md-4 mx-auto",children:Object(F.jsxs)(y.a,{onSubmit:this.handleSubmit,ref:function(t){e.form=t},children:[Object(F.jsx)("h3",{children:"Incident Details"}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)(k.a,{name:"title",type:"text",placeholder:"Title",className:"form-control",value:this.state.title,onChange:this.onChangeTitle,validations:[We]})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)(k.a,{name:"description",type:"text",placeholder:"Description",className:"form-control",value:this.state.description,onChange:this.onChangeDescription,validations:[We]})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsxs)("select",{className:"form-select",name:"appid",placeholder:"Application",value:this.state.applicationId,onChange:this.onChangeapplicationId,children:[Object(F.jsx)("option",{children:"Select Application"}),this.state.appdata.map((function(e,t){return Object(F.jsx)("option",{value:e.applicationId,children:e.applicationName},t)}))]})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)(k.a,{name:"attachid",type:"text",placeholder:"Attachid",className:"form-control",value:this.state.attachid,onChange:this.onChangeAttachid})}),Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)(k.a,{name:"date",type:"text",placeholder:"Date",className:"form-control",value:this.state.date,onChange:this.onChangeDate,validations:[We]})}),Object(F.jsxs)("div",{className:"form-group",children:[Object(F.jsx)(k.a,{name:"file",type:"file",placeholder:"attachments",className:"form-control",onChange:this.onChangefilehandler}),t?Object(F.jsxs)("span",{children:["File size: ",this.state.fileSize," KB"]}):Object(F.jsx)(F.Fragment,{})]}),Object(F.jsxs)("div",{className:"form-group ",children:[Object(F.jsxs)(D.a,{style:{marginTop:"20px",marginBottom:"20px"},fullWidth:"true",variant:"contained",color:"primary",type:"submit",endIcon:Object(F.jsx)(_.a,{children:"send"}),disabled:this.state.loading,children:[Object(F.jsx)("span",{children:"Submit"})," "]}),this.state.loading&&Object(F.jsx)("span",{children:Object(F.jsx)(T.a,{})})]}),this.state.message&&Object(F.jsx)("div",{className:"form-group",children:Object(F.jsx)("div",{className:this.state.successful?p.a.fire({icon:"success",title:"Successfully submitted",text:"_________________________________________",width:"22rem",toast:!1,backdrop:"rgba(93, 152, 91, 0.6)"}):p.a.fire({icon:"error",title:"An error occurred",text:this.state.message,width:"22rem",toast:!1,backdrop:"rgba(152, 93, 91, 0.6)"}),role:"alert"})}),Object(F.jsx)(I.a,{style:{display:"none"},ref:function(t){e.checkBtn=t}})]})})}}]),a}(n.Component),Ge=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).state={content:""},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=this;H.getUserBoard().then((function(t){e.setState({content:t.data})}),(function(t){e.setState({content:t.response&&t.response.data&&t.response.data.message||t.message||t.toString()})}))}},{key:"render",value:function(){return Object(F.jsx)("div",{className:"container",children:Object(F.jsx)("header",{className:"jumbotron",children:Object(F.jsx)("h3",{children:this.state.content})})})}}]),a}(n.Component),He=a(552),Ke=a.n(He),Qe=a(553),Xe=a.n(Qe),Ye=function(e){Object(d.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(r.a)(this,a),(n=t.call(this,e)).logout=n.logout.bind(Object(l.a)(n)),n.state={currentUser:void 0},n}return Object(i.a)(a,[{key:"componentDidMount",value:function(){var e=O.getCurrentUser();e&&this.setState({currentUser:e,loginStatus:!0})}},{key:"logout",value:function(){O.logout()}},{key:"render",value:function(){var e=this.state.currentUser;this.state.isAuthenticated;return Object(F.jsxs)("div",{className:"app-main",style:{height:"100vh"},children:[Object(F.jsxs)("nav",{className:"navbar sticky-top navbar-expand navbar-dark ",children:[Object(F.jsx)(o.b,{to:"/",className:"navbar-brand"}),e?Object(F.jsx)("div",{class:"collapse navbar-collapse",children:Object(F.jsxs)("div",{className:"navbar-nav mr-auto ",children:[Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsxs)(o.b,{to:"/profile",className:"nav-link",children:["Welcome ",e.firstName]})}),Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(o.b,{to:"/userdata",className:"nav-link ",onClick:this.userdata,children:Object(F.jsx)(j.b,{fontSize:"1.2em"})})}),Object(F.jsx)("li",{className:"nav-item ",children:Object(F.jsx)("a",{href:"/login",className:"nav-link ",onClick:this.logout,children:Object(F.jsx)(j.a,{fontSize:"1.2em"})})})]})}):Object(F.jsxs)("div",{className:"navbar-nav ml-auto",children:[Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(o.b,{to:"/login",className:"nav-link",children:"Login"})}),Object(F.jsx)("li",{className:"nav-item",children:Object(F.jsx)(o.b,{to:"/register",className:"nav-link",children:"Sign Up"})})]})]}),Object(F.jsx)("div",{className:"container mt-4",children:Object(F.jsxs)(u.c,{children:[Object(F.jsx)(u.a,{exact:!0,path:["/","/home"],component:U}),Object(F.jsx)(u.a,{exact:!0,path:"/login",component:U}),Object(F.jsx)(u.a,{exact:!0,path:"/register",component:W}),Object(F.jsx)(u.a,{exact:!0,path:"/profile",component:Ee}),Object(F.jsx)(u.a,{exact:!0,path:"/userdata",component:Ae}),Object(F.jsx)(u.a,{exact:!0,path:"/create-new",component:qe}),Object(F.jsx)(u.a,{path:"/user",component:Ge}),Object(F.jsx)(u.a,{path:"/mod",component:Ke.a}),Object(F.jsx)(u.a,{path:"/admin",component:Xe.a})]})})]})}}]),a}(n.Component),Ze=function(e){e&&e instanceof Function&&a.e(6).then(a.bind(null,1255)).then((function(t){var a=t.getCLS,n=t.getFID,s=t.getFCP,c=t.getLCP,o=t.getTTFB;a(e),n(e),s(e),c(e),o(e)}))};c.a.render(Object(F.jsx)(o.a,{children:Object(F.jsx)(Ye,{})}),document.getElementById("root")),Ze()},552:function(e,t){},553:function(e,t){},597:function(e,t,a){},599:function(e,t,a){}},[[1031,1,2]]]);
//# sourceMappingURL=main.3a9347ad.chunk.js.map